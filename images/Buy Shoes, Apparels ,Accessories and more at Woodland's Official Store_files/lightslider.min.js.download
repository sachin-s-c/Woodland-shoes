(function(m,H){var G={item:4,autoWidth:!1,slideMove:1,slideMargin:10,addClass:"",mode:"slide",useCSS:!0,cssEasing:"ease",easing:"linear",speed:400,auto:!1,pauseOnHover:!1,loop:!1,slideEndAnimation:!0,pause:2E3,keyPress:!1,controls:!0,prevHtml:"",nextHtml:"",rtl:!1,adaptiveHeight:!1,vertical:!1,verticalHeight:500,vThumbWidth:100,thumbItem:10,pager:!0,gallery:!1,galleryMargin:5,thumbMargin:5,currentPagerPosition:"middle",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:[{breakpoint:800,
settings:{item:3,thumbItem:3,slideMove:1,slideMargin:6}},{breakpoint:480,settings:{item:3,thumbItem:2,slideMove:1}}],onBeforeStart:function(m){},onSliderLoad:function(m){},onBeforeSlide:function(m){},onAfterSlide:function(m){},onBeforeNextSlide:function(m){},onBeforePrevSlide:function(m){}};m.fn.lightSlider=function(E){if(0===this.length)return this;if(1<this.length)return this.each(function(){m(this).lightSlider(E)}),this;var n={},a=m.extend(!0,{},G,E),v={},b=this;n.$el=this;"fade"===a.mode&&(a.vertical=
!1);var g=b.children(),A=m(window).width(),x=null,w=0,q=0,B=!1,l=0,f="",h=0,C=!0===a.vertical?"height":"width",D=!0===a.vertical?"margin-bottom":"margin-right",p=0,z=0,u=0,y=0,t=null,F="ontouchstart"in document.documentElement,k={chbreakpoint:function(){A=m(window).width();if(a.responsive.length){var c;!1===a.autoWidth&&(c=a.item);if(A<a.responsive[0].breakpoint)for(var b=0;b<a.responsive.length;b++)A<a.responsive[b].breakpoint&&(x=a.responsive[b]);if("undefined"!==typeof x&&null!==x)for(var d in x.settings)if(x.settings.hasOwnProperty(d)){if("undefined"===
typeof v[d]||null===v[d])v[d]=a[d];a[d]=x.settings[d]}if(!m.isEmptyObject(v)&&A>a.responsive[0].breakpoint)for(var f in v)v.hasOwnProperty(f)&&(a[f]=v[f]);!1===a.autoWidth&&0<p&&0<u&&c!==a.item&&(h=Math.round(p/((u+a.slideMargin)*a.slideMove)))}},calSW:function(){!1===a.autoWidth&&(u=(l-(a.item*a.slideMargin-a.slideMargin))/a.item)},calWidth:function(c){c=!0===c?f.find(".lslide").length:g.length;if(!1===a.autoWidth)q=c*(u+a.slideMargin);else for(var b=q=0;b<c;b++)q+=parseInt(g.eq(b).width())+a.slideMargin;
return q}},n={doCss:function(){var c;if(c=a.useCSS)a:{c="transition MozTransition WebkitTransition OTransition msTransition KhtmlTransition".split(" ");for(var b=document.documentElement,d=0;d<c.length;d++)if(c[d]in b.style){c=!0;break a}c=void 0}return c?!0:!1},keyPress:function(){if(a.keyPress)m(document).on("keyup.lightslider",function(a){m(":focus").is("input, textarea")||(a.preventDefault?a.preventDefault():a.returnValue=!1,37===a.keyCode?b.goToPrevSlide():39===a.keyCode&&b.goToNextSlide())})},
controls:function(){a.controls&&(b.after('\x3cdiv class\x3d"lSAction"\x3e\x3ca class\x3d"lSPrev"\x3e'+a.prevHtml+'\x3c/a\x3e\x3ca class\x3d"lSNext"\x3e'+a.nextHtml+"\x3c/a\x3e\x3c/div\x3e"),a.autoWidth?k.calWidth(!1)<l&&f.find(".lSAction").hide():w<=a.item&&f.find(".lSAction").hide(),f.find(".lSAction a").on("click",function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;"lSPrev"===m(this).attr("class")?b.goToPrevSlide():b.goToNextSlide();return!1}))},initialStyle:function(){var c=this;"fade"===
a.mode&&(a.autoWidth=!1,a.slideEndAnimation=!1);a.auto&&(a.slideEndAnimation=!1);a.autoWidth&&(a.slideMove=1,a.item=1);a.loop&&(a.slideMove=1,a.freeMove=!1);a.onBeforeStart.call(this,b);k.chbreakpoint();b.addClass("lightSlider").wrap('\x3cdiv class\x3d"lSSlideOuter '+a.addClass+'"\x3e\x3cdiv class\x3d"lSSlideWrapper"\x3e\x3c/div\x3e\x3c/div\x3e');f=b.parent(".lSSlideWrapper");!0===a.rtl&&f.parent().addClass("lSrtl");a.vertical?(f.parent().addClass("vertical"),l=a.verticalHeight,f.css("height",l+"px")):
l=b.outerWidth();g.addClass("lslide");!0===a.loop&&"slide"===a.mode&&(k.calSW(),k.clone=function(){if(k.calWidth(!0)>l){for(var e=0,d=0,f=0;f<g.length&&!(e+=parseInt(b.find(".lslide").eq(f).width())+a.slideMargin,d++,e>=l+a.slideMargin);f++);e=!0===a.autoWidth?d:a.item;if(e<b.find(".clone1.left").length)for(d=0;d<b.find(".clone1.left").length-e;d++)g.eq(d).remove();if(e<b.find(".clone1.right").length)for(d=g.length-1;d>g.length-1-b.find(".clone1.right").length;d--)h--,g.eq(d).remove();for(d=b.find(".clone1.right").length;d<
e;d++)b.find(".lslide").eq(d).clone().removeClass("lslide").addClass("clone1 right").appendTo(b),h++;for(d=b.find(".lslide").length-b.find(".clone1.left").length;d>b.find(".lslide").length-e;d--)b.find(".lslide").eq(d-1).clone().removeClass("lslide").addClass("clone1 left").prependTo(b);if(e<b.find(".clone.left").length)for(d=0;d<b.find(".clone1.left").length-e;d++)g.eq(d).remove();if(e<b.find(".clone.right").length)for(d=g.length-1;d>g.length-1-b.find(".clone.right").length;d--)h--,g.eq(d).remove();
for(d=b.find(".clone.right").length;d<e;d++)b.find(".lslide").eq(d).clone().removeClass("lslide").addClass("clone right").appendTo(b),h++;for(d=b.find(".lslide").length-b.find(".clone.left").length;d>b.find(".lslide").length-e;d--)b.find(".lslide").eq(d-1).clone().removeClass("lslide").addClass("clone left").prependTo(b);g=b.children()}else g.hasClass("clone1")&&(b.find(".clone1").remove(),c.move(b,0)),g.hasClass("clone")&&(b.find(".clone1").remove(),c.move(b,0))},k.clone());k.sSW=function(){w=g.length;
!0===a.rtl&&!1===a.vertical&&(D="margin-left");!1===a.autoWidth&&g.css(C,u+"px");g.css(D,a.slideMargin+"px");q=k.calWidth(!1);b.css(C,q+"px");!0===a.loop&&"slide"===a.mode&&!1===B&&(h=b.find(".clone.left").length)};k.calL=function(){g=b.children();w=g.length};this.doCss()&&f.addClass("usingCss");k.calL();"slide"===a.mode?(k.calSW(),k.sSW(),!0===a.loop&&(p=c.slideValue(),this.move(b,p)),!1===a.vertical&&this.setHeight(b,!1)):(this.setHeight(b,!0),b.addClass("lSFade"),this.doCss()||(g.fadeOut(0),g.eq(h).fadeIn(0)));
!0===a.loop&&"slide"===a.mode?g.eq(h).addClass("active"):g.first().addClass("active")},pager:function(){var c=this;k.createPager=function(){y=(l-(a.thumbItem*a.thumbMargin-a.thumbMargin))/a.thumbItem;for(var d=f.find(".lslide"),e=f.find(".lslide").length,r=0,g="",k=0,r=0;r<e;r++){"slide"===a.mode&&(k=a.autoWidth?k+(parseInt(d.eq(r).width())+a.slideMargin)*a.slideMove:r*(u+a.slideMargin)*a.slideMove);var m=d.eq(r*a.slideMove).attr("data-thumb"),g=!0===a.gallery?g+('\x3cli style\x3d"width:100%;'+C+
":"+y+"px;"+D+":"+a.thumbMargin+'px"\x3e\x3ca href\x3d"#"\x3e\x3cimg src\x3d"'+m+'" /\x3e\x3c/a\x3e\x3c/li\x3e'):g+('\x3cli\x3e\x3ca href\x3d"#"\x3e'+(r+1)+"\x3c/a\x3e\x3c/li\x3e");if("slide"===a.mode&&k>=q-l-a.slideMargin){r+=1;d=2;a.autoWidth&&(g+='\x3cli\x3e\x3ca href\x3d"#"\x3e'+(r+1)+"\x3c/a\x3e\x3c/li\x3e",d=1);r<d?(g=null,f.parent().addClass("noPager")):f.parent().removeClass("noPager");break}}var n=f.parent();n.find(".lSPager").html(g);!0===a.gallery&&(!0===a.vertical&&n.find(".lSPager").css("width",
a.vThumbWidth+"px"),z=r*(a.thumbMargin+y)+.5,n.find(".lSPager").css({property:z+"px","transition-duration":a.speed+"ms"}),!0===a.vertical&&f.parent().css("padding-right",a.vThumbWidth+a.galleryMargin+"px"),n.find(".lSPager").css(C,z+"px"));var p=n.find(".lSPager").find("li");p.first().addClass("active");p.on("click",function(){h=!0===a.loop&&"slide"===a.mode?h+(p.index(this)-n.find(".lSPager").find("li.active").index()):p.index(this);b.mode(!1);!0===a.gallery&&c.slideThumb();return!1})};if(a.pager){var e=
"lSpg";a.gallery&&(e="lSGallery");f.after('\x3cul class\x3d"lSPager '+e+'"\x3e\x3c/ul\x3e');e=a.vertical?"margin-left":"margin-top";f.parent().find(".lSPager").css(e,a.galleryMargin+"px");k.createPager()}setTimeout(function(){k.init()},0)},setHeight:function(b,e){var c=null,f=this,c=a.loop?b.children(".lslide ").first():b.children().first(),r=function(){var a=c.outerHeight(),d=0,f=a;e&&(a=0,d=100*f/l);b.css({height:a+"px","padding-bottom":d+"%"})};r();if(c.find("img").length)if(c.find("img")[0].complete)r(),
t||f.auto();else c.find("img").on("load",function(){setTimeout(function(){r();t||f.auto()},100)});else t||f.auto()},active:function(c,e){this.doCss()&&"fade"===a.mode&&f.addClass("on");var d=0;if(h*a.slideMove<w){c.removeClass("active");this.doCss()||"fade"!==a.mode||!1!==e||c.fadeOut(a.speed);var d=!0===e?h:h*a.slideMove,g;!0===e&&(g=c.length,d+1>=g&&(d=g-1));!0===a.loop&&"slide"===a.mode&&(d=!0===e?h-b.find(".clone.left").length:h*a.slideMove,!0===e&&(g=c.length,d+1===g?d=g-1:d+1>g&&(d=0)));this.doCss()||
"fade"!==a.mode||!1!==e||c.eq(d).fadeIn(a.speed);c.eq(d).addClass("active")}else c.removeClass("active"),c.eq(c.length-1).addClass("active"),this.doCss()||"fade"!==a.mode||!1!==e||(c.fadeOut(a.speed),c.eq(d).fadeIn(a.speed))},move:function(b,e){!0===a.rtl&&(e=-e);this.doCss()?!0===a.vertical?b.css({transform:"translate3d(0px, "+-e+"px, 0px)","-webkit-transform":"translate3d(0px, "+-e+"px, 0px)"}):b.css({transform:"translate3d("+-e+"px, 0px, 0px)","-webkit-transform":"translate3d("+-e+"px, 0px, 0px)"}):
!0===a.vertical?b.css("position","relative").animate({top:-e+"px"},a.speed,a.easing):b.css("position","relative").animate({left:-e+"px"},a.speed,a.easing);b=f.parent().find(".lSPager").find("li");this.active(b,!0)},fade:function(){this.active(g,!1);var a=f.parent().find(".lSPager").find("li");this.active(a,!0)},slide:function(){var c=this;k.calSlide=function(){q>l&&(p=c.slideValue(),c.active(g,!1),p>q-l-a.slideMargin?p=q-l-a.slideMargin:0>p&&(p=0),c.move(b,p),!0===a.loop&&"slide"===a.mode&&(h>=w-
b.find(".clone.left").length/a.slideMove&&c.resetSlide(b.find(".clone.left").length),0===h&&c.resetSlide(f.find(".lslide").length)))};k.calSlide()},resetSlide:function(c){var e=this;f.find(".lSAction a").addClass("disabled");setTimeout(function(){h=c;f.css("transition-duration","0ms");p=e.slideValue();e.active(g,!1);n.move(b,p);setTimeout(function(){f.css("transition-duration",a.speed+"ms");f.find(".lSAction a").removeClass("disabled")},50)},a.speed+100)},slideValue:function(){var b;if(!1===a.autoWidth)b=
h*(u+a.slideMargin)*a.slideMove;else for(var e=b=0;e<h;e++)b+=parseInt(g.eq(e).width())+a.slideMargin;return b},slideThumb:function(){var c;switch(a.currentPagerPosition){case "left":c=0;break;case "middle":c=l/2-y/2;break;case "right":c=l-y}var e=h-b.find(".clone.left").length,d=f.parent().find(".lSPager");"slide"===a.mode&&!0===a.loop&&(e>=d.children().length?e=0:0>e&&(e=d.children().length));c=e*(y+a.thumbMargin)-c;c+l>z&&(c=z-l-a.thumbMargin);0>c&&(c=0);this.move(d,c)},auto:function(){a.auto&&
(clearInterval(t),t=setInterval(function(){b.goToNextSlide()},a.pause))},pauseOnHover:function(){var c=this;a.auto&&a.pauseOnHover&&(f.on("mouseenter",function(){m(this).addClass("ls-hover");b.pause();a.auto=!0}),f.on("mouseleave",function(){m(this).removeClass("ls-hover");f.find(".lightSlider").hasClass("lsGrabbing")||c.auto()}))},touchMove:function(c,e){f.css("transition-duration","0ms");"slide"===a.mode&&(c=p-(c-e),c>=q-l-a.slideMargin?!1===a.freeMove?c=q-l-a.slideMargin:(e=q-l-a.slideMargin,c=
e+(c-e)/5):0>c&&(c=!1===a.freeMove?0:c/5),this.move(b,c))},touchEnd:function(c){f.css("transition-duration",a.speed+"ms");if("slide"===a.mode){var e=!1,d=!0;p-=c;p>q-l-a.slideMargin?(p=q-l-a.slideMargin,!1===a.autoWidth&&(e=!0)):0>p&&(p=0);var k=function(b){var c=0;e||b&&(c=1);if(a.autoWidth)for(var d=b=0;d<g.length&&!(b+=parseInt(g.eq(d).width())+a.slideMargin,h=d+c,b>=p);d++);else b=p/((u+a.slideMargin)*a.slideMove),h=parseInt(b)+c,p>=q-l-a.slideMargin&&0!==b%1&&h++};c>=a.swipeThreshold?(k(!1),
d=!1):c<=-a.swipeThreshold&&(k(!0),d=!1);b.mode(d);this.slideThumb()}else c>=a.swipeThreshold?b.goToPrevSlide():c<=-a.swipeThreshold&&b.goToNextSlide()},enableDrag:function(){var b=this;if(!F){var e=0,d=0,g=!1;f.find(".lightSlider").addClass("lsGrab");f.on("mousedown",function(b){if(q<l&&0!==q)return!1;"lSPrev"!==m(b.target).attr("class")&&"lSNext"!==m(b.target).attr("class")&&(e=!0===a.vertical?b.pageY:b.pageX,g=!0,b.preventDefault?b.preventDefault():b.returnValue=!1,f.scrollLeft+=1,--f.scrollLeft,
f.find(".lightSlider").removeClass("lsGrab").addClass("lsGrabbing"),clearInterval(t))});m(window).on("mousemove",function(c){g&&(d=!0===a.vertical?c.pageY:c.pageX,b.touchMove(d,e))});m(window).on("mouseup",function(c){if(g){f.find(".lightSlider").removeClass("lsGrabbing").addClass("lsGrab");g=!1;d=!0===a.vertical?c.pageY:c.pageX;c=d-e;if(Math.abs(c)>=a.swipeThreshold)m(window).on("click.ls",function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;a.stopImmediatePropagation();a.stopPropagation();
m(window).off("click.ls")});b.touchEnd(c)}})}},enableTouch:function(){var b=this;if(F){var e,d,g={};f.on("touchstart",function(a){g=a.originalEvent.targetTouches[0];e=a.originalEvent.targetTouches[0].pageX;d=a.originalEvent.targetTouches[0].pageY;clearInterval(t)});f.on("touchmove",function(c){if(q<l&&0!==q)return!1;g=c.originalEvent.targetTouches[0];var f=Math.abs(g.pageX-e),h=Math.abs(g.pageY-d);!0===a.vertical?(3*h>f&&c.preventDefault(),b.touchMove(g.pageY,d)):(3*f>h&&c.preventDefault(),b.touchMove(g.pageX,
e))});f.on("touchend",function(){if(q<l&&0!==q)return!1;b.touchEnd(!0===a.vertical?g.pageY-d:g.pageX-e)})}},build:function(){var b=this;b.initialStyle();this.doCss()&&(!0===a.enableTouch&&b.enableTouch(),!0===a.enableDrag&&b.enableDrag());m(window).on("focus",function(){b.auto()});m(window).on("blur",function(){clearInterval(t)});b.pager();b.pauseOnHover();b.controls();b.keyPress()}};n.build();k.init=function(){k.chbreakpoint();!0===a.vertical?(l=1<a.item?a.verticalHeight:g.outerHeight(),f.css("height",
l+"px")):l=f.outerWidth();!0===a.loop&&"slide"===a.mode&&k.clone();k.calL();"slide"===a.mode&&b.removeClass("lSSlide");"slide"===a.mode&&(k.calSW(),k.sSW());setTimeout(function(){"slide"===a.mode&&b.addClass("lSSlide")},1E3);a.pager&&k.createPager();!0===a.adaptiveHeight&&!1===a.vertical&&b.css("height",g.eq(h).outerHeight(!0));!1===a.adaptiveHeight&&("slide"===a.mode?!1===a.vertical?n.setHeight(b,!1):n.auto():n.setHeight(b,!0));!0===a.gallery&&n.slideThumb();"slide"===a.mode&&n.slide();!1===a.autoWidth?
g.length<=a.item?f.find(".lSAction").hide():f.find(".lSAction").show():k.calWidth(!1)<l&&0!==q?f.find(".lSAction").hide():f.find(".lSAction").show()};b.goToPrevSlide=function(){0<h?(a.onBeforePrevSlide.call(this,b,h),h--,b.mode(!1),!0===a.gallery&&n.slideThumb()):!0===a.loop?(a.onBeforePrevSlide.call(this,b,h),"fade"===a.mode&&(h=parseInt((w-1)/a.slideMove)),b.mode(!1),!0===a.gallery&&n.slideThumb()):!0===a.slideEndAnimation&&(b.addClass("leftEnd"),setTimeout(function(){b.removeClass("leftEnd")},
400))};b.goToNextSlide=function(){var c=!0;"slide"===a.mode&&(c=n.slideValue()<q-l-a.slideMargin);h*a.slideMove<w-a.slideMove&&c?(a.onBeforeNextSlide.call(this,b,h),h++,b.mode(!1),!0===a.gallery&&n.slideThumb()):!0===a.loop?(a.onBeforeNextSlide.call(this,b,h),h=0,b.mode(!1),!0===a.gallery&&n.slideThumb()):!0===a.slideEndAnimation&&(b.addClass("rightEnd"),setTimeout(function(){b.removeClass("rightEnd")},400))};b.mode=function(c){!0===a.adaptiveHeight&&!1===a.vertical&&b.css("height",g.eq(h).outerHeight(!0));
!1===B&&("slide"===a.mode?n.doCss()&&(b.addClass("lSSlide"),""!==a.speed&&f.css("transition-duration",a.speed+"ms"),""!==a.cssEasing&&f.css("transition-timing-function",a.cssEasing)):n.doCss()&&(""!==a.speed&&b.css("transition-duration",a.speed+"ms"),""!==a.cssEasing&&b.css("transition-timing-function",a.cssEasing)));c||a.onBeforeSlide.call(this,b,h);"slide"===a.mode?n.slide():n.fade();f.hasClass("ls-hover")||n.auto();setTimeout(function(){c||a.onAfterSlide.call(this,b,h)},a.speed);B=!0};b.play=function(){b.goToNextSlide();
a.auto=!0;n.auto()};b.pause=function(){a.auto=!1;clearInterval(t)};b.refresh=function(){k.init()};b.getCurrentSlideCount=function(){var c=h;if(a.loop)var c=f.find(".lslide").length,e=b.find(".clone.left").length,c=h<=e-1?c+(h-e):h>=c+e?h-c-e:h-e;return c+1};b.getTotalSlideCount=function(){return f.find(".lslide").length};b.goToSlide=function(c){h=a.loop?c+b.find(".clone.left").length-1:c;b.mode(!1);!0===a.gallery&&n.slideThumb()};b.destroy=function(){b.lightSlider&&(b.goToPrevSlide=function(){},b.goToNextSlide=
function(){},b.mode=function(){},b.play=function(){},b.pause=function(){},b.refresh=function(){},b.getCurrentSlideCount=function(){},b.getTotalSlideCount=function(){},b.goToSlide=function(){},b.lightSlider=null,k={init:function(){}},b.parent().parent().find(".lSAction, .lSPager").remove(),b.removeClass("lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right").removeAttr("style").unwrap().unwrap(),b.children().removeAttr("style"),g.removeClass("lslide active"),b.find(".clone1").remove(),b.find(".clone").remove(),
t=g=null,B=!1,h=0)};setTimeout(function(){a.onSliderLoad.call(this,b)},10);m(window).on("resize orientationchange",function(a){setTimeout(function(){a.preventDefault?a.preventDefault():a.returnValue=!1;k.init()},200)});return this}})(jQuery);