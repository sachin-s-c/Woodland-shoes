function statusChangeCallback(a,b){if("connected"===a.status){var c=a.authResponse.userID;a=a.authResponse.accessToken;!AppLocalStorage.isLogedIn()&&b&&(b.uid=c,b.accessToken=a,CommonController.getInstance().signUp(!0,b))}else"not_authorized"!==a.status&&document.getElementById("status")&&(document.getElementById("status").innerHTML="Please log into this webpage.")}
function checkLoginState(a,b){"fb"==a?FB.getLoginStatus(function(a){statusChangeCallback(a,b)}):AppLocalStorage.isLogedIn()||CommonController.getInstance().signUp(!0,b)}function fbLogout(){try{FB.getLoginStatus(function(a){"connected"===a.status&&FB.logout(function(a){console.log({fbl:"logout"})})})}catch(a){console.log(a)}}
window.fbAsyncInit=function(){FB.init({appId:client_Id_Fb,cookie:!0,xfbml:!0,version:"v6.0"});FB.AppEvents.logPageView();FB.getLoginStatus(function(a){FB.api("/me?fields\x3did,name,email",function(b){console.log("M Good to see you, "+b.name+".");statusChangeCallback(a,{source:"fb",id:b.id,email:b.email,name:b.name})})})};
(function(a,b,c){var d=a.getElementsByTagName(b)[0];a.getElementById(c)||(a=a.createElement(b),a.id=c,a.src="https://connect.facebook.net/en_US/sdk.js",d.parentNode.insertBefore(a,d))})(document,"script","facebook-jssdk");
function onSignInFB(){FB.login(function(a){a.authResponse?(console.log("Welcome!  Fetching your information.... "),FB.api("/me?fields\x3did,name,email",function(a){console.log("Good to see you, "+a.name+".");checkLoginState("fb",{source:"fb",id:a.id,email:a.email,name:a.name})})):console.log("User cancelled login or did not fully authorize.")},{scope:"public_profile,email"})}
function authSocial(a){"gGl"==a&&window.open(auth_Url_Ggl+callback_Url_Ggl,"_parent","status\x3d1,width\x3d400,height\x3d400")}function signInCallback(a){console.log("google auth result"+a);a.code&&(a={source:"gGl",social:!0,access_token:a.code,accessToken:a.code},CommonController.getInstance().signUp(!0,a))}$(document).ready(function(){$(document).on("click",".fb-sign",function(a){onSignInFB()});$(document).on("click",".google-sign",function(a){auth2.grantOfflineAccess().then(signInCallback)})});