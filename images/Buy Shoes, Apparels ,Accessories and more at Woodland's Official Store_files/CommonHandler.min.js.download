var $jscomp={scope:{},inherits:function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]}},commonHandler,CommonHandler=function(a){CoreUiHandler.apply(this,arguments)};$jscomp.inherits(CommonHandler,CoreUiHandler);CommonHandler.getInstance=function(){commonHandler||(commonHandler=new CommonHandler);return commonHandler};
CommonHandler.isLogedIn=function(){if(AppLocalStorage.get(CommonConstants.CURRENT_USER)){try{if(today&&AppLocalStorage.get(CommonConstants._LIFE)){var a=parseInt(AppLocalStorage.get(CommonConstants._LIFE));if(today>=a)return CommonHandler.getInstance().signOut(),CommonController.getInstance().includeFragments("signInModal","fragment-components","sign-in-modal"),!1}}catch(b){}return!0}return!1};
CommonHandler.prototype.execute=function(a,b,c,d,e,f,l,k,g,h){CommonHandler.getInstance().validate(g,c)&&(k==CommonConstants.POST&&CommonHandler.getInstance().validate(g,c)?CommonRepository.getInstance().executePost(a,b,c,h,d,e,g):k==CommonConstants.PP&&CommonHandler.getInstance().validate(g,c)?CommonRepository.getInstance().executePostParam(a,b,c,h,d,e,g):k==CommonConstants.GP&&CommonHandler.getInstance().validate(g,c)?CommonRepository.getInstance().executeGetParms(a,b,c,h,d,e,g):CommonRepository.getInstance().executeGet(a,
b,c,h,d,e,g))};CommonHandler.prototype.show=function(a){!a||0!=a.indexOf("#")&&0!=a.indexOf(".")?a&&$("#"+a).show():$(a).show()};CommonHandler.prototype.hide=function(a){!a||0!=a.indexOf("#")&&0!=a.indexOf(".")?a&&$("#"+a).hide():$(a).hide()};
CommonHandler.prototype.process=function(a,b,c){CommonUtils.notEmpty(a)&&(a==ProcessConstants.authentication&&CommonHandler.getInstance().initializeUserAuthenticationByResponse(b,c),a==ProcessConstants.initializeUserCartByResponse&&CommonHandler.getInstance().initializeUserCartByResponse(b,c),a==ProcessConstants.productSizeSelection&&CommonHandler.getInstance().productSizeSelection(b,c),a==ProcessConstants.productColorSelection&&CommonHandler.getInstance().productColorSelection(b,c),a==ProcessConstants.productCartProcess&&
CommonHandler.getInstance().productCartProcess(b,c),a==ProcessConstants.checkOutCartProcess&&CommonHandler.getInstance().checkOutCartProcess(b,c),a==ProcessConstants.removeAddress&&CommonHandler.getInstance().processRemoveAddress(b,c),a==ProcessConstants.selectAddress&&CommonHandler.getInstance().processSelectAddress(b,c),a==ProcessConstants.saveAddress&&CommonHandler.getInstance().processSaveAddress(b,c),a==ProcessConstants.initializeLookBooProducts&&CommonHandler.getInstance().initializeLookBooProducts(b,
c),a==ProcessConstants.forgotProcess&&CommonHandler.getInstance().forgotProcess(b,c),a==ProcessConstants.updateSubscription&&CommonHandler.getInstance().updateSubscription(b,c),a==ProcessConstants.changePassword&&CommonHandler.getInstance().changePassword(b,c),a==ProcessConstants.getStates&&CommonHandler.getInstance().getStates(b,c),a==ProcessConstants.fillProfileForm&&CommonHandler.getInstance().fillProfileForm(b,c),a==ProcessConstants.updateProfile&&CommonHandler.getInstance().updateProfile(b,c),
a==ProcessConstants.getOrderDetails&&CommonHandler.getInstance().getOrderDetails(b,c),a==ProcessConstants.getSubOrdersByOrder&&CommonHandler.getInstance().getSubOrdersByOrder(b,c),a==ProcessConstants.trackOrderStatus&&CommonHandler.getInstance().trackOrderStatus(b,c),a==ProcessConstants.cancelOrderSuborder&&CommonHandler.getInstance().cancelOrderSuborder(b,c),a==ProcessConstants.getCities&&CommonHandler.getInstance().getCities(b,c),a==ProcessConstants.signUpProcess&&CommonHandler.getInstance().signUpProcess(b,
c),a==ProcessConstants.proceedAsGuestProcess&&CommonHandler.getInstance().proceedAsGuestProcess(b,c),a==ProcessConstants.checkPincodeCOD&&CommonHandler.getInstance().checkPincodeCOD(b,c),a==ProcessConstants.fillSubjectLineOptions&&CommonHandler.getInstance().fillSubjectLineOptions(b,c),a==ProcessConstants.contactUs&&CommonHandler.getInstance().contactUs(b,c),a==ProcessConstants.addAddress&&CommonHandler.getInstance().addAddress(b,c),a==ProcessConstants.includeFragment&&CommonHandler.getInstance().includeFragment(b,
c),a==ProcessConstants.initializeProductOfTheDay&&CommonHandler.getInstance().initializeProductOfTheDay(b,c),a==ProcessConstants.initializeStores&&CommonHandler.getInstance().initializeStores(b,c),a==ProcessConstants.donationProcess&&CommonHandler.getInstance().donationProcess(b,c),a==ProcessConstants.creditPointsProcess&&CommonHandler.getInstance().creditPointsProcess(b,c),a==ProcessConstants.placeOrder&&CommonHandler.getInstance().placeOrder(b,c),a==ProcessConstants.orderVerification&&CommonHandler.getInstance().orderVerification(b,
c),a==ProcessConstants.resendVerification&&CommonHandler.getInstance().resendVerification(b,c),a==ProcessConstants.getChangePasswordOtp&&CommonHandler.getInstance().getChangePasswordOtp(b,c),a==ProcessConstants.changePasswordViaOtp&&CommonHandler.getInstance().changePasswordViaOtp(b,c),a==ProcessConstants.applyCoupon&&CommonHandler.getInstance().applyCoupon(b,c),a==ProcessConstants.categoryProducts&&CommonHandler.getInstance().categoryProducts(b,c));CommonRepository.loading(!1)};
CommonHandler.prototype.validate=function(a,b){if(CommonUtils.notEmpty(a)){if(a==ProcessConstants.removeAddress)return CommonHandler.getInstance().validateRemoveAddress(b);if(a==ProcessConstants.saveAddress)return CommonHandler.getInstance().validateSaveAddress(b);if(a==ProcessConstants.selectAddress)return CommonHandler.getInstance().validateSelectAddress(b);if(a==ProcessConstants.updateSubscription)return CommonHandler.getInstance().validateUpdateSubscription(b)}return!0};
CommonHandler.prototype.error=function(a,b){null==b||"undefined"==b||"200"!=b+""&&"success"!=b&&"SUCCESS"!=b?($(".alert-box-close").css("background","#fc0e3f"),$(".alert-box").addClass("error").removeClass("success")):($(".alert-box-close").css("background","#2c6431"),$(".alert-box").addClass("success").removeClass("error"));$(".alert-box-overlay").show();$(".alert-box").empty().append(a);$(".alert-box-dialog").show()};
CommonHandler.prototype.loading=function(a){var b=document.getElementById("alert-box-overlay"),c=document.getElementById("loading-init");a?(b.style.display="block",c.style.display="block"):(b.style.display="none",c.style.display="none")};CommonHandler.prototype.includeFragment=function(a,b){a&&($("."+b.destination).empty().append(a),$("."+b.destination).attr("id",b.disp),$("#"+b.disp).addClass("show").slideDown())};
CommonHandler.prototype.signOut=function(){$(".icon-welcome").text("");$("#mini-profile ul li").addClass("dispnone");$("#mini-profile ul li").eq(0).removeClass("dispnone");$("#mini-profile ul li").eq(1).removeClass("dispnone");for(var a=$("#mini-profile li a"),b=0;b<a.length-1;b++){var c=a[b],d=c.href.substring(c.href.indexOf("?")+1),e=c.href.substring(0,c.href.indexOf("?"));if(d&&0<d.length){for(var d=d.split("\x26"),f=0;f<d.length;f++)0>d[f].indexOf("token\x3d")&&(e=0>e.indexOf("?")?e+"?"+d[f]:
e+"\x26"+d[f]);c.href=e}else c.href=c.href+"?clgId\x3d"+dfltClgId}AppLocalStorage.remove(CommonConstants.JWT_TOKEN);AppLocalStorage.remove(CommonConstants.CURRENT_USER);AppLocalStorage.remove(CommonConstants._LIFE);AppLocalStorage.remove(CommonConstants.USER_CARTS);AppLocalStorage.remove(CommonConstants.RQS);AppLocalStorage.remove(CommonConstants.LRQ);CommonUtils.pushParams(AjaxUtils.pushToken({}));$(".cart1 span").html(0);$("#miniCartItems").empty().html("");try{fbLogout()}catch(l){console.log(l)}-1==
location.pathname.indexOf("checkout")&&-1==location.pathname.indexOf("account")||CommonUtils.reloadNewParams({})};
CommonHandler.prototype.initializeUserAuthenticationByResponse=function(a,b){200!=a.status&&"success"!=a.status?($("#response-error").text("Sorry! Invalid Email/Password."),$("#response-error").removeClass("dispnone")):(AppLocalStorage.set(CommonConstants.CURRENT_USER,JSON.stringify(a.currentUser)),AppLocalStorage.set(CommonConstants.JWT_TOKEN,a.currentUser.token),AppLocalStorage.set(CommonConstants._LIFE,a.currentUser.expiration),AppLocalStorage.set(CommonConstants.RQS,a.currentUser.rqsid),a.currentUser.rqsid&&
a.currentUser.rqsid.length>rqlng&&(a=a.currentUser.rqsid.substring(rqlng,a.currentUser.rqsid.length),AppLocalStorage.set(CommonConstants.LRQ,a)),CommonHandler.getInstance().moveGuestCart(),CommonHandler.getInstance().userInit(),null!=smartTechId&&void 0!=smartTechId&&DataLayerHandler.getInstance().dataLayerLogin("Web"),$("#sign-in-modal").removeClass("show").hide(),$(".close").click(),-1==location.pathname.indexOf("checkout")&&-1==location.pathname.indexOf("account")||CommonUtils.reloadNewParams({}))};
CommonHandler.prototype.userInit=function(){if(CommonHandler.isLogedIn()){var a=JSON.parse(AppLocalStorage.get(CommonConstants.CURRENT_USER));$(".icon-welcome").text(a.fullName);AppLocalStorage.get(CommonConstants.JWT_TOKEN);for(var a=$("#mini-profile li a"),b=0;b<a.length-1;b++){var c=a[b];0<=c.href.indexOf("?")?c.href=c.href+"\x26token\x3d"+AppLocalStorage.get(CommonConstants.JWT_TOKEN):c.href=c.href+"?clgId\x3d"+dfltClgId+"\x26token\x3d"+AppLocalStorage.get(CommonConstants.JWT_TOKEN)}$("#mini-profile ul li").removeClass("dispnone");
$("#mini-profile ul li").eq(0).addClass("dispnone");$("#mini-profile ul li").eq(1).addClass("dispnone");$("#sign-in-modal,#sign-up-modal,#mini-change-password").removeClass("show").hide();"checkout"==viewPageName||"myaccount"==viewPageName||"thankyou"==viewPageName?CommonUtils.pushParams(AjaxUtils.pushToken({})):CommonUtils.pushParams({clgId:dfltClgId})}else CommonUtils.removeParams({token:""});CommonHandler.getInstance().getUserCart(!1)};
CommonHandler.prototype.moveGuestCart=function(){if(CommonHandler.isLogedIn()&&AppLocalStorage.get(CommonConstants.GUEST_CARTID)){var a=(CommonUtils.notEmpty(AppLocalStorage.get(CommonConstants.CURRENT_USER))?JSON.parse(AppLocalStorage.get(CommonConstants.CURRENT_USER)):null).id,a={unlimit:!0,gCid:AppLocalStorage.get(CommonConstants.GUEST_CARTID),action:"move",actionId:a,cartType:CommonConstants.CART_TYPE.CART,button:"",isAjax:!0,channel:"Web",clgId:$("#clgId").val()};CommonHandler.getInstance().execute(KeyConstants.UMS,
KeyConstants.CART_PROCESS,a,CommonConstants.JSON_TYPE,!1,"","",CommonConstants.PP,"",!1);AppLocalStorage.remove(CommonConstants.GUEST_CARTID);AppLocalStorage.remove(CommonConstants.USER_CARTS)}};
CommonHandler.prototype.getUserCart=function(a){if(CommonUtils.isEmpty(AppLocalStorage.get(CommonConstants.USER_CARTS))||a){a=CommonUtils.notEmpty(AppLocalStorage.get(CommonConstants.CURRENT_USER))?JSON.parse(AppLocalStorage.get(CommonConstants.CURRENT_USER)):null;var b=AppLocalStorage.get(CommonConstants.GUEST_CARTID),c=AppLocalStorage.get(CommonConstants.CURRENT_USER)?!1:!0;if(a||b)a={unlimit:"true",isAjax:!0,isGuest:c,gCid:b},CommonHandler.getInstance().execute(KeyConstants.UMS,KeyConstants.USER_CART,
a,CommonConstants.JSON_TYPE,!1,"","",CommonConstants.GET,ProcessConstants.initializeUserCartByResponse,!1)}else CommonHandler.getInstance().userMiniCartInit()};
CommonHandler.prototype.initializeUserCartByResponse=function(a,b){if(a&&void 0!=a.result&&0<a.result.length){AppLocalStorage.set(CommonConstants.USER_CARTS,JSON.stringify(a.result));if(b.isGuest)for(var c=0;c<a.result.length;c++){var d=a.result[c];"CART"==d.cartType&&void 0!=d.items&&0<d.items.length&&AppLocalStorage.set(CommonConstants.GUEST_CARTID,d.id)}CommonUtils.notEmpty(b)&&CommonUtils.notEmpty(b.button)&&("removeCartItem"==b.button||"updatecartitem"==b.button)&&DataLayerHandler.getInstance().initializeDataLayer("cart",
b)}else AppLocalStorage.remove(CommonConstants.USER_CARTS);CommonHandler.getInstance().userMiniCartInit()};CommonHandler.prototype.userMiniCartInit=function(){initializeMiniShoppingCart()};
CommonHandler.prototype.productSizeSelection=function(a,b){if(a){$("#product-variants").empty().append(a);var c=$("#anyErrorMsg").val();c?errorAlert(c,a.status):(delete b.token,CommonUtils.pushParams(b));$("#s-defaultItemSizeLbl").empty().text($("#defaultItemSizeLbl").val());$("#defaultItemDimentionLbl").val()&&$("#defaultItemDimentionLbl").val().endsWith("cm")?$("#s-defaultItemDimentionLbl").empty().text($("#defaultItemDimentionLbl").val()):$("#s-defaultItemDimentionLbl").empty().text($("#defaultItemDimentionLbl").val()+
" cm")}};CommonHandler.prototype.productColorSelection=function(a,b){a&&($("#product-dtls").empty().append(a),(b=$("#anyErrorMsg").val())&&errorAlert(b,a.status))};
CommonHandler.prototype.productCartProcess=function(a,b){!a||200!=a.status&&"success"!=a.status?(CommonUtils.notEmpty(b)&&CommonUtils.notEmpty(b.button)&&("buyNow"==b.button||"addToCart"==b.button)&&(a.button=b.button,b.isGuest&&(a.gCid=b.gCid)),CommonUtils.notEmpty(b)&&CommonUtils.notEmpty(b.button)&&"buyNow"==b.button&&CommonUtils.notEmpty(a.message)&&0<=a.message.indexOf("item already in cart")?(b.tabId="cart",b.isGuest&&!b.gCid&&(b.gCid=AppLocalStorage.get(CommonConstants.GUEST_CARTID)),CommonUtils.routing(b,
"checkout/cart","viewCart")):CommonUtils.alertMessage(a)):(CommonUtils.notEmpty(b)&&b.isGuest&&CommonUtils.notEmpty(b.button)&&("addToCart"==b.button||"buyNow"==b.button)&&AppLocalStorage.set(CommonConstants.GUEST_CARTID,a.result),CommonHandler.getInstance().getUserCart(!0),DataLayerHandler.getInstance().initializeDataLayer("cart",b),CommonUtils.notEmpty(b)&&CommonUtils.notEmpty(b.button)&&"buyNow"==b.button&&(b.isGuest&&(b.gCid=a.result),b.tabId="cart",CommonUtils.routing(b,"checkout/cart","viewCart")),
CommonUtils.notEmpty(b)&&CommonUtils.notEmpty(b.action)&&"remove"==b.action&&viewPageName&&"checkout"==viewPageName&&(b.isGuest&&a.result&&a.result.id&&(b.gCid=a.result.id),b.tabId="cart",CommonUtils.routing(b,"checkout/cart","viewCart")))};CommonHandler.prototype.checkOutCartProcess=function(a,b){!a||200!=a.status&&"success"!=a.status?CommonUtils.alertMessage(a):(b.tabId="cart",CommonHandler.getInstance().initializeUserCartByResponse(a,b),CommonUtils.routing(b,"checkout/cart",""))};
CommonHandler.prototype.validateRemoveAddress=function(a){if(CommonHandler.isLogedIn())return!0;CommonUtils.alertMessage(CommonUtils.commonAlertObj("fail","Sorry! Your session expired. Re-login and try again","reLogin"));return!1};
CommonHandler.prototype.processRemoveAddress=function(a,b){!a||200!=a.status&&"success"!=a.status?CommonUtils.alertMessage(a):b.containerId&&pgnm&&0<=pgnm.indexOf("/account")?(CommonUtils.alertMessage(a),$("#"+b.containerId+"-"+b.addressId).remove()):pgnm&&0<=pgnm.indexOf("/checkout")&&(isAddressSelected="FALSE",checkoutNavigation("address"))};
CommonHandler.prototype.validateSelectAddress=function(a){if(CommonHandler.isLogedIn())return!0;CommonUtils.alertMessage(CommonUtils.commonAlertObj("fail","Sorry! Your session expired. Re-login and try again","reLogin"));return!1};CommonHandler.prototype.processSelectAddress=function(a,b){!a||200!=a.status&&"success"!=a.status?CommonUtils.alertMessage(a):(b.tabId="payment",CommonUtils.routing(b,"checkout/payment",""))};
CommonHandler.prototype.validateSaveAddress=function(a){var b=!0,c="";CommonHandler.isLogedIn()?CommonUtils.notEmpty(a)||(c="Sorry! mandatory field are required.",b=!1):(c="Sorry! Your session expired. Re-login and try again",b=!1);b||CommonUtils.alertMessage(CommonUtils.commonAlertObj("fail",c,"reLogin"));return b};
CommonHandler.prototype.processSaveAddress=function(a,b){!a||200!=a.status&&"success"!=a.status?CommonUtils.alertMessage(a):(params.tabId="payment",CommonUtils.routing(params,"checkout/cart",""))};
CommonHandler.prototype.initializeLookBooProducts=function(a,b){if(a&&(200==a.status||"success"==a.status)&&($("#isMobile").val(),$(".desktop-view").css("display"),b=a.result)){a="\x3cul id\x3d'lookbook-porducts-desktop' class\x3d'content-slider'\x3e";for(var c=0;c<b.length;c++){var d=b[c];a+="\x3cli class\x3d'col-lg-3'\x3e";var e=context_Path+d.productUri+"/"+d.id+"?color\x3d"+d.defaultItem.color.replace("#","");a+="\x3ca href\x3d'"+e+"'\x3e";a+="\x3cspan class\x3d'product-count'\x3e"+(c+1)+"\x3c/span\x3e";
a=(e=d.images)&&0<e.length?a+("\x3cspan class\x3d'lbpimage'\x3e\x3cimg src\x3d'"+imagePath+"/images/products/"+d.id+"/"+e[0].catimg+"' onerror\x3d\"this.onerror\x3dnull;this.src\x3d'"+imagePath+"/images/"+defaultThym+"/noImage.jpg';\"\x3e\x3c/span\x3e"):a+("\x3cspan class\x3d'lbpimage'\x3e\x3cimg src\x3d'"+imagePath+"'/images/"+defaultThym+"/noImage.jpg'\x3e\x3c/span\x3e");a+="\x3cp\x3e"+d.defaultItem.itemname+"\x3c/p\x3e";a+="\x3c/a\x3e";a+="\x3c/li\x3e"}a+="\x3c/ul\x3e";$("#banner-products-desktop").empty().append(a);
$("#lookbook-porducts-desktop").lightSlider({loop:!0,keyPress:!0})}};CommonHandler.prototype.forgotProcess=function(a,b){if(a)return CommonUtils.alertMessage(a),!0};CommonHandler.prototype.validateUpdateSubscription=function(a){if(CommonUtils.notEmpty(a)&&CommonUtils.notEmpty(a.email))return!0;CommonUtils.alertMessage(CommonUtils.commonAlertObj("fail","Sorry! Please enter email.",""));return!1};CommonHandler.prototype.updateSubscription=function(a,b){if(a)return CommonUtils.alertMessage(a),!0};
CommonHandler.prototype.changePassword=function(a,b){if(a)return CommonUtils.alertMessage(a),!0};CommonHandler.prototype.getChangePasswordOtp=function(a,b){!a||200!=a.status&&"success"!=a.status||($("#sendchangepasswordotp").removeClass("dispblock").addClass("dispnone"),$(".cph").removeClass("dispnone"),$("#response-error").empty("").text(a.message),$("#response-error").removeClass("dispnone"),$(".mfp-user-container").addClass("dispnone"))};
CommonHandler.prototype.changePasswordViaOtp=function(a,b){!a||200!=a.status&&"success"!=a.status?($("#response-error").empty("").text(a.message),$("#response-error").removeClass("dispnone")):(AppLocalStorage.set(CommonConstants.CURRENT_USER,JSON.stringify(a.result)),AppLocalStorage.set(CommonConstants.JWT_TOKEN,a.result.token),CommonHandler.getInstance().moveGuestCart(),CommonHandler.getInstance().userInit(),$("#mini-change-password").removeClass("show").hide(),$(".close").click())};
CommonHandler.prototype.getStates=function(a,b){if(a&&(200==a.status||"success"==a.status)){b=b.invoker;a=a.result;$("#"+b).empty();$("#"+b).append('\x3coption value\x3d""\x3e--Select State--\x3c/option\x3e');for(var c=0;c<a.length;c++){var d=a[c];$("#"+b).append('\x3coption value\x3d"'+d.id+'"\x3e'+d.name+"\x3c/option\x3e")}}};
CommonHandler.prototype.getCities=function(a,b){if(a&&(200==a.status||"success"==a.status)){b=b.invoker;a=a.result;$("#"+b).empty();$("#"+b).append('\x3coption value\x3d""\x3e--Select City--\x3c/option\x3e');for(var c=0;c<a.length;c++){var d=a[c];$("#"+b).append('\x3coption value\x3d"'+d.id+'"\x3e'+d.name+"\x3c/option\x3e")}}};
CommonHandler.prototype.updateProfile=function(a,b){!a||200!=a.status&&"success"!=a.status?CommonUtils.alertMessage(a):CommonUtils.alertMessage(CommonUtils.commonAlertObj("success","Profile updated!",""));return!1};CommonHandler.prototype.getOrderDetails=function(a,b){a&&0<$.trim(a).length&&($(".productorderdetails").empty().append($.trim(a)),$(".productorderdetails").removeClass("dispnone").addClass("dispblock").show())};
CommonHandler.prototype.getSubOrdersByOrder=function(a,b){a&&0<$.trim(a).length&&$("#trackOrderSec").empty().append($.trim(a))};CommonHandler.prototype.trackOrderStatus=function(a,b){a&&0<$.trim(a).length&&($("#trackorder").empty().append($.trim(a)),$("#trackorder").show())};
CommonHandler.prototype.cancelOrderSuborder=function(a,b){if(a){if(b&&b.remarks)"success"==a.status&&$(".cancel-order-suborder-remarks-err").removeClass("error").addClass("success"),$(".cancel-order-suborder-remarks-err").text(a.message).removeClass("dispnone");else try{CommonUtils.alertMessage(a)}catch(c){}return!0}};
CommonHandler.prototype.fillProfileForm=function(a,b){!a||200!=a.status&&"success"!=a.status?CommonUtils.alertMessage(a):$("#username").length&&(a=a.result,$("#username").val(a.user.username),$("#communication").val(a.communication),$("#fname").val(a.user.fname),$("#lname").val(a.user.lname),$("#mobile").val(a.mobile),$("#addr1").val(a.addr1?a.addr1:""),$("#addr2").val(a.addr2?a.addr2:""),$("#dob").val(a.dob?a.dob:""),a.state?$("#state").val(a.state):$("#state").val(""),a.state&&initCity(a.state,
"city"),a.city?$("#city").val(a.city):$("#city").val(""),$("#zip").val(a.zip),"M"==a.gender||"MALE"==a.gender?$("#male").prop("checked",!0):$("#female").prop("checked",!0),$("#pcrntPwd").val($("#crntPwd").val()),$("#crntPwd")&&$("#crntPwd").val(""),$(".profile-edit-content").show(),$(".profile-card").hide(),$(".profile-content").css("height","auto"))};
CommonHandler.prototype.signUpProcess=function(a,b){if(!a||200!=a.status&&"success"!=a.status)$("#signup-error").text(JSON.stringify(a.message)),$("#signup-error").removeClass("dispnone");else{a.currentUser?(AppLocalStorage.set(CommonConstants.CURRENT_USER,JSON.stringify(a.currentUser)),AppLocalStorage.set(CommonConstants.JWT_TOKEN,a.currentUser.token)):(AppLocalStorage.set(CommonConstants.CURRENT_USER,JSON.stringify(a.result)),AppLocalStorage.set(CommonConstants.JWT_TOKEN,a.result.token));CommonHandler.getInstance().moveGuestCart();
CommonHandler.getInstance().userInit();if(null!=smartTechId&&void 0!=smartTechId){var c=null;try{c=a.message}catch(d){}DataLayerHandler.getInstance().dataLayerRegister(b,c)}$("#sign-in-modal,#sign-up-modal,#mini-change-password").removeClass("show").hide();$(".close").click()}};
CommonHandler.prototype.proceedAsGuestProcess=function(a,b){if(!a||200!=a.status&&"success"!=a.status)!a||200!=a.status&&"fail"!=a.status||"OTP"!=a.message?$("#guest-response-message").text(JSON.stringify(a.message)):$("#guest-response-message").text(a.result),$("#guest-response-message").removeClass("dispnone").addClass("dispblock");else if("OTP"==a.message)$("#guest-response-message").text(a.result),$("#guest-response-message").removeClass("dispnone").addClass("dispblock"),$(".guest-otp-container").removeClass("dispnone"),
$("#proceed-as-guest").addClass("dispnone"),$("#verify-as-guest").removeClass("dispnone");else{a.currentUser?(AppLocalStorage.set(CommonConstants.CURRENT_USER,JSON.stringify(a.currentUser)),AppLocalStorage.set(CommonConstants.JWT_TOKEN,a.currentUser.token)):(AppLocalStorage.set(CommonConstants.CURRENT_USER,JSON.stringify(a.result)),AppLocalStorage.set(CommonConstants.JWT_TOKEN,a.result.token));var c=null;try{c=a.message}catch(d){}DataLayerHandler.getInstance().dataLayerLoginGuest(b,c);CommonHandler.getInstance().moveGuestCart();
CommonHandler.getInstance().userInit();$("#sign-in-modal,#sign-up-modal,#mini-change-password").removeClass("show").hide();$(".close").click()}};
CommonHandler.prototype.checkPincodeCOD=function(a,b){$("#pin-message").removeClass("success").removeClass("error");$(".pin-service-msg").removeClass("error");!a||200!=a.status&&"success"!=a.status?($(".pin-service-msg").empty().text(a.message),$(".pin-service-msg").removeClass("dispnone").addClass("error"),$("#pin-message").empty().text(a.message),$("#pin-message").removeClass("dispnone").addClass("error")):(b=a.message.replace("!","")+" on pincode "+b.pincode,$(".pin-service-msg").empty().text(b),
$(".pin-service-msg").removeClass("dispnone").addClass("error"),$("#pin-message").empty().text(a.message),$("#pin-message").removeClass("dispnone").addClass("success"))};
CommonHandler.prototype.fillSubjectLineOptions=function(a,b){a&&(200==a.status||"success"==a.status)&&null!=a.result&&a.result&&0<a.result.length?($(".subject-line").empty("").append("\x3coption value\x3d''\x3e--Select option--\x3c/option\x3e"),a.result.forEach(function(a,b){$(".subject-line").append("\x3coption value\x3d"+a.id+"\x3e"+a.keyValue+"\x3c/option\x3e")})):(CommonUtils.alertMessage(CommonUtils.commonAlertObj("fail","No Subject Line!","")),$(".subject-line").empty().append("\x3coption value\x3d''\x3e--Select option--\x3c/option\x3e"))};
CommonHandler.prototype.contactUs=function(a,b){if(a)return CommonUtils.alertMessage(a),!0};CommonHandler.prototype.addAddress=function(a,b){if(a)return!a||200!=a.status&&"success"!=a.status||(pgnm&&0<=pgnm.indexOf("/checkout")?(isAddressSelected="TRUE",checkoutNavigation("payment")):addUpdateAddressComponent("#previousAddress",a.result,b)),CommonUtils.alertMessage(a),!0};CommonHandler.prototype.commonProcess=function(a,b){if(a)return CommonUtils.alertMessage(a),!0};
CommonHandler.prototype.initializeProductOfTheDay=function(a,b){if(a&&(200==a.status||"success"==a.status)){a=a.result;try{var c=CommonUtils.formattedDDMMYYYY(null,""),d={};AppLocalStorage.get(CommonConstants.PRODUCTSOFTHEDAY)&&(d=JSON.parse(AppLocalStorage.get(CommonConstants.PRODUCTSOFTHEDAY)));d||(d={});d[c+"_"+b.ctscode]=a;AppLocalStorage.set(CommonConstants.PRODUCTSOFTHEDAY,JSON.stringify(d))}catch(e){console.log(e)}fillProductOfTheDay(a,b.ctscode)}};
CommonHandler.prototype.initializeStores=function(a,b){if(a&&(200==a.status||"success"==a.status))if((a=a.result)&&0<a.length){var c="";a.forEach(function(a){c+="\x3cdiv class\x3d'col-lg-6 pd-0'\x3e";c+="\t\x3cdiv class\x3d'addressbox'\x3e";c+="\t\t\x3cp\x3e"+a.address+"\x3c/p\x3e";c+="\t\t\x3cp\x3e"+a.cityName+"-"+a.pincode+"\x3c/p\x3e";c+="\t\t\x3cp\x3e"+a.stateName+"\x3c/p\x3e";c+="\t\t\x3cp class\x3d'mobilenumber'\x3e\x3ci class\x3d'fa fa-phone' aria-hidden\x3d'true' style\x3d'transform: rotate(104deg);'\x3e\x3c/i\x3e"+
a.phone+"\x3c/p\x3e";c+="\t\t\x3cinput type\x3d'hidden'\x3e \x3ca class\x3d'maplink'\x3eshow on map\x3c/a\x3e";c+="\t\x3c/div\x3e";c+="\x3c/div\x3e"});$(".storeaddress").empty().append(c)}else $(".storeaddress").empty().append("Sorry! No store found.")};CommonHandler.prototype.donationProcess=function(a,b){!a||200!=a.status&&"success"!=a.status?CommonUtils.alertMessage(a):checkoutNavigation("cart")};
CommonHandler.prototype.creditPointsProcess=function(a,b){a&&0>$.trim(a).indexOf("Sorry! no any payment mode found.")&&($(".paymentmode").empty().append($.trim(a)),a=parseFloat($("#payablePrice").val().replace(/[^\d\.\-]/g,"")).toFixed(1),b=parseFloat($("#creditUsedInCart").val().replace(/[^\d\.\-]/g,"")).toFixed(1),$("#cart-total-prize").empty().html("\x3cspan class\x3d'inr-smbl mrrt-4'\x3e\x26#x20B9;\x3c/span\x3e"+(a-b).toLocaleString("en-IN").replace(/,/g," ")))};
CommonHandler.prototype.applyCoupon=function(a,b){a&&($("#cart-items").empty().append($.trim(a)),a=parseFloat($("#payablePrice").val().replace(/[^\d\.\-]/g,"")).toFixed(1),b=parseFloat($("#creditUsedInCart").val().replace(/[^\d\.\-]/g,"")).toFixed(1),$("#cart-total-prize").empty().html("\x3cspan class\x3d'inr-smbl mrrt-4'\x3e\x26#x20B9;\x3c/span\x3e"+(a-b).toLocaleString("en-IN").replace(/,/g," ")))};
CommonHandler.prototype.placeOrder=function(a,b){!a||200!=a.status&&"success"!=a.status?CommonUtils.alertMessage(a):(null!=smartTechId&&void 0!=smartTechId&&DataLayerHandler.getInstance().dataLayerPayNow(b.paymode),"CODCP"==a.message?addVerificationComponent(a.result):(document.write(a.result),document.close()))};CommonHandler.prototype.resendVerification=function(a,b){!a||200!=a.status&&"success"!=a.status?CommonUtils.alertMessage(a):$(".resend_msg").empty().text(a.message)};
CommonHandler.prototype.orderVerification=function(a,b){!a||200!=a.status&&"success"!=a.status?CommonUtils.alertMessage(a):(a={orderId:a.result,clgId:$("#clgId").val()},CommonUtils.routing(AjaxUtils.pushToken(a),"thankyou/verified/codcp","thankyou"))};CommonHandler.prototype.categoryProducts=function(a,b){!a||200!=a.status&&"success"!=a.status||inItCategoryProducts(a,b)};
function fillProductOfTheDay(a,b){if(a&&b){var c=b.split("_")[0],d=a.images,e=context_Path+a.productUri+"/"+a.id+"?color\x3d"+(a.defaultItem&&a.defaultItem.color?a.defaultItem.color:"").replace("#",""),f="\x3cdiv class\x3d'col-lg-2 col-sm-2'\x3e";11==dfltClgId&&(f="\x3cdiv\x3e");f=f+"\t\x3ch5\x3ePRODUCT OF THE DAY\x3c/h5\x3e"+("\t\t\x3ca href\x3d'"+e+"'\x3e");d&&0<=d.length?(d=1<d.length&&0<=b.indexOf("_footwear")?d[1]:d[0],f+="\x3cimg src\x3d'"+imagePath+"/images/products/"+a.id+"/"+d.catimg+"' onerror\x3d\"this.onerror\x3dnull;this.src\x3d'"+
imagePath+"/images/"+defaultThym+"/noImage.jpg';\"\x3e"):f+="\x3cimg src\x3d'"+imagePath+"'/images/"+defaultThym+"/noImage.jpg'\x3e";a.discount&&0<a.discount&&(f+="\t\t\t\x3cspan class\x3d'pofddiscount' style\x3d''\x3e"+a.discount+"%\x3c/span\x3e");f=f+("\t\t\t\x3cinput type\x3d'hidden' id\x3d'ctscodeselected_"+c+"' value\x3d'"+b+"' /\x3e")+"\t\t\x3c/a\x3e\t\x3ch2 class\x3d'item-title'\x3e";f+="\t\x3ca href\x3d'"+e+"'\x3e"+a.productname+"\x3c/a\x3e";f+="\t\x3c/h2\x3e";f+="\x3c/div\x3e";11==dfltClgId?
$(".pofday11").empty().append(f):$("#pofday-"+c).empty().append(f)}}
function addVerificationComponent(a){a="\x3cdiv style\x3d'margin:8% 0'\x3e\x3cdiv class\x3d'row' style\x3d'padding-bottom: 20px;'\x3e\x3cdiv class\x3d'col-lg-3'\x3e\x3c/div\x3e\x3cdiv class\x3d'col-lg-6'\x3e\x3cdiv class\x3d'col-lg-6'\x3e\x3ch2\x3eVerify Order\x3c/h2\x3e\x3c/div\x3e\x3cdiv class\x3d'col-lg-6'\x3e\x3cspan class\x3d'error'\x3eVerification code sent on your e-mail \x26 mobile.\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d'uploadbtn-outer'\x3e\x3cinput type\x3d'text' id\x3d'verification_code' placeholder\x3d'Enter Verification Code'\x3e "+("\x3cinput type\x3d'hidden' id\x3d'order_id' value\x3d'"+
a+"'\x3e ")+"\x3cinput type\x3d'button' value\x3d'VERIFY' class\x3d'submit' id\x3d'verify_order'\x3e\x3c/div\x3e";a+="\x3c/div\x3e\x3cdiv class\x3d'col-lg-3'\x3e\x3c/div\x3e\x3c/div\x3e";a+="\x3cdiv class\x3d'row'\x3e\x3cdiv class\x3d'col-lg-3'\x3e\x3c/div\x3e";a+="\x3cdiv class\x3d'col-lg-6'\x3e\x3cspan class\x3d'resend_verification_code'\x3eResend Verification Code\x3c/span\x3e\x3cspan class\x3d'resend_msg'\x3e\x3c/span\x3e\x3c/div\x3e";a+="\x3cdiv class\x3d'col-lg-3'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";
$("#cart-payment").empty().append(a);$(".checkout-tab-container").attr("disabled","true")}
function addUpdateAddressComponent(a,b,c){var d="";c.id||(d+="\x3cdiv class\x3d'col-lg-6' id\x3d'addressContainer-'"+b.id+"'\x3e");d=d+"\x3cdiv class\x3d'selectSaveBox row2' style\x3d'min-height: 250px;'\x3e\x3cdiv class\x3d'titleHead'\x3e\x3ch3 class\x3d'name floatleft'\x3e"+("\t\x3cspan\x3e"+b.fullName+"\x3c/span\x3e\x26nbsp;");d=d+"\x3c/h3\x3e\x3c/div\x3e\x3cdiv class\x3d'content row2'\x3e"+("\t\x3cp class\x3d'row2'\x3e"+b.addr1+"\x3c/p\x3e");d+="\t\x3cp class\x3d'row2'\x3e"+b.addr2+"\x3c/p\x3e";
d+="\t\x3cp class\x3d'row2'\x3e\x3cspan\x3e"+(b.cityName?b.cityName:c.cityName)+"\x3c/span\x3e - \x3cspan\x3e "+b.zip+"\x3c/span\x3e\x3c/p\x3e";d+="\t\x3cp class\x3d'row2'\x3e\x3cspan\x3e"+(b.stateName?b.stateName:c.stateName)+"\x3c/span\x3e\x3cspan\x3e,"+(b.countryName?b.countryName:c.countryName)+"\x3c/span\x3e\x3c/p\x3e";d+="\t\x3cp class\x3d'row2'\x3ePhone: \x3cspan\x3e"+b.mobile+"\x3c/span\x3e\x3c/p\x3e";d+="SHIPPING"=="\t\x3cp class\x3d'row2'\x3e\x3cspan\x3e"+b.srvType?"Type: Shipping":"BILLING"==
b.srvType?"Type: Billing":"Type: Billing \x26 Shipping\x3c/span\x3e\x3c/p\x3e";d=d+"\x3c/div\x3e\x3cdiv class\x3d'editRemove'\x3e"+("\t\x3cdiv class\x3d'editaddress' id\x3d'edit-"+b.id+"'\x3e");d=d+"\t\t\x3ca href\x3d'javascript:void(0)'\x3eEdit\x3c/a\x3e\t\x3c/div\x3e"+("\t\x3cdiv class\x3d'removeaddress floatright' id\x3d'remove-"+b.id+"'\x3e");d+="\t\t\x3ca href\x3d'javascript:void(0)'\x3eRemove\x3c/a\x3e\t\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";c.id||(d+="\x3c/div\x3e");c.id?$("#address-"+c.id).empty().append(d):
$(a).append(d)}function getPlacedOnDate(a){if(a&&a.includes("T"))a=a.split("T"),$("#placedOn").text(a[0]);else if(a&&a.includes("-")){var b;a=a.split("-");var c=a[2];isNaN(c.charAt(0))||(b=c.charAt(0));isNaN(c.charAt(1))||(b=b.concat(c.charAt(1)));$("#placedOn").text(b+"/"+a[1]+"/"+a[0])}}
function renderOrderDetails(a){getPlacedOnDate(a.result.orderDto.createtime);$("#orderNo").text(a.result.orderDto.id);$("#finalAmount").text(a.result.orderDto.payableamount);0==a.result.orderDto.shippingcharges?$("#shipCharge").text("FREE"):$("#shipCharge").text(a.result.orderDto.shippingcharges);$("#totalOrderAmount").text(a.result.orderDto.paidamount);$("#mobile").text(a.result.orderDto.mobile);$("#email").text(a.result.orderDto.mobile);$("#shipName").text(a.result.orderDto.name);var b=a.result.subOrderDtos[0];
$("#shipName").text(b.name);$("#shipAdd").text(b.addr1);$("#shipAdd1").text(b.city+","+b.state+" - "+b.pincode);$("#paymentMode").text(a.result.orderDto.paymodename);$("#paymentMode").text(a.result.orderDto.paymodename);renderSuborders(a.result.subOrderDtos)}
function renderSuborders(a){var b="\x3cp style\x3d'margin-bottom: 0; margin-top: 4%; font-weight: 800;'\x3eItems in this order\x3c/p\x3e",c=location.protocol+"//"+location.hostname;window.location.port&&(c+=":"+window.location.port);c+="/static";for(i=0;i<a.length;i++)var d=a[i],b=b+"\x3cdiv class\x3d'media'\x3e\x3cdiv class\x3d'media-left'\x3e",b=b+("\x3cimg src\x3d'"+c+d.itemimage+"'class\x3d'media-object'"),b=b+"style\x3d'width: 100px'",b=b+"\x3e\x3c/div\x3e\x3cdiv class\x3d'media-body'\x3e\x3ch4 class\x3d'media-heading'\x3e",
b=b+d.itemname,b=b+"\x3c/h4\x3e\x3cp class\x3d'product-details'\x3eOGC 1991116 (CAMEL)\x3c/p\x3e",b=b+("\x3cul class\x3d'pro-attr'\x3e\x3cli\x3e\x3cem\x3eSize :\x3c/em\x3e \x3cspan class\x3d'editsize'\x3e"+d.itemsize),b=b+("\x3c/span\x3e\x3c/li\x3e\x3cli\x3e\x3cem\x3eQuantity :\x3c/em\x3e \x3cspan class\x3d'editquant'\x3e"+d.quantity),b=b+("\x3c/span\x3e\x3c/li\x3e\x3cli\x3e\x3cem\x3e Color :\x3c/em\x3e \x3cspan class\x3d'colr' style\x3d'background:'"+d.itemcolorcode+"\x3e"+d.itemcolor),b=b+("\x3c/span\x3e\x3c/li\x3e\x3c/ul\x3e\x3cp class\x3d'item-subtitle'\x3e\x3cspan class\x3d'price'\x3e INR "+
d.itemofferprice),b=b+("\x3c/span\x3e \x3cstrike\x3e INR "+d.itemmrp+"\x3c/strike\x3e \x3cspan class\x3d'off'\x3e("+100*d.itemofferprice/d.itemmrp),b=b+(" Off)\x3c/span\x3e\x3c/p\x3e\x3cdiv class\x3d'order-deliver'\x3e\x3cspan class\x3d'deliverydate'\x3e"+d.statusname),b=b+("\x3c/span\x3e\x3cspan\x3e("+d.updatetime+")\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");$("#subordersElem").empty().append(b)}
function renderTrackOrder(a){a=a.result.subOrderDtos;var b="",c=location.protocol+"//"+location.hostname;window.location.port&&(c+=":"+window.location.port);c+="/static";for(i=0;i<a.length;i++)var d=a[i],b=b+"\x3cdiv class\x3d'media'\x3e\x3cdiv class\x3d'media-left'\x3e",b=b+("\x3cimg src\x3d'"+c+d.itemimage+"'class\x3d'media-object'"),b=b+"style\x3d'width: 100px'",b=b+"\x3e\x3c/div\x3e\x3cdiv class\x3d'media-body'\x3e\x3ch4 class\x3d'media-heading'\x3e",b=b+d.itemname,b=b+"\x3c/h4\x3e\x3cp class\x3d'product-details'\x3eOGC 1991116 (CAMEL)\x3c/p\x3e",
b=b+("\x3cul class\x3d'pro-attr'\x3e\x3cli\x3e\x3cem\x3eSize :\x3c/em\x3e \x3cspan class\x3d'editsize'\x3e"+d.itemsize),b=b+("\x3c/span\x3e\x3c/li\x3e\x3cli\x3e\x3cem\x3eQuantity :\x3c/em\x3e \x3cspan class\x3d'editquant'\x3e"+d.quantity),b=b+("\x3c/span\x3e\x3c/li\x3e\x3cli\x3e\x3cem\x3e Color :\x3c/em\x3e \x3cspan class\x3d'colr' style\x3d'background:'"+d.itemcolorcode+"\x3e"+d.itemcolor),b=b+("\x3c/span\x3e\x3c/li\x3e\x3c/ul\x3e\x3cp class\x3d'item-subtitle'\x3e\x3cspan class\x3d'price'\x3e INR "+
d.itemofferprice),b=b+("\x3c/span\x3e \x3cstrike\x3e INR "+d.itemmrp+"\x3c/strike\x3e \x3cspan class\x3d'off'\x3e("+100*d.itemofferprice/d.itemmrp),b=b+(" Off)\x3c/span\x3e\x3c/p\x3e\x3cdiv class\x3d'order-deliver'\x3e\x3cspan class\x3d'deliverydate'\x3e"+d.statusname),b=b+("\x3c/span\x3e\x3cspan\x3e("+d.updatetime+")\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"),b=b+"\x3cdiv class\x3d'media-right' style\x3d'margin: 4% 0;'\x3e\x3cbutton class\x3d'btn-common'",b=b+"style\x3d'color: white; width: 165px; height: 38px;'",
b=b+("data-toggle\x3d'modal' data-target\x3d'#trackorder' id\x3d'"+d.orderId),b=b+"'\x3eTrack Order\x3c/button\x3e\x3c/div\x3e";$("#trackOrderSec").empty().append(b)};